#	Example:
# 
#	example_effect = {
#		treasury = 100
#		add_adm_power = 50
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

vov_varangian_heir_ruler_general = {
	[[HEIR_FEMALE]
		custom_tooltip = vov_heir_to_general
	]
	[[HEIR_MALE]
		custom_tooltip = vov_heir_to_general
	]
	[[RULER_MALE]
		custom_tooltip = vov_ruler_to_general
	]
	[[RULER_FEMALE]
		custom_tooltip = vov_ruler_to_general
	]
	hidden_effect = {
		if = {
			limit = {
				NOT = { army_tradition = 75 }
			}
			add_army_tradition = 25
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			add_army_tradition = -25
		}
		else = {
			set_variable = {
				which = vov_trad_var
				value = 0
			}
			while = {
				limit = {
					NOT = { army_tradition = 100 }
				}
				change_variable = {
					which = vov_trad_var
					value = 1
				}
				add_army_tradition = 1
			}
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			while = {
				limit = {
					check_variable = {
						which = vov_trad_var
						value = 1
					}
				}
				change_variable = {
					which = vov_trad_var
					value = -1
				}
				add_army_tradition = -1
			}
		}
	}
}

msg_calc_assign_estate = {
	if = {
		limit = {
			has_estate = estate_nhs_pipiltin
			NOT = { has_province_flag = msg_pipiltin_province }
		}
		set_province_flag = msg_pipiltin_province
		change_variable = {
			which = msg_pipiltin_provinces
			value = 1
		}
	}
	else_if = {
		limit = {
			has_estate = estate_nhs_apogonoi
			NOT = { has_province_flag = msg_apogonoi_province }
		}
		set_province_flag = msg_apogonoi_province
		change_variable = {
			which = msg_apogonoi_provinces
			value = 1
		}
	}
}

msg_calc_remove_estate = {
	if = {
		limit = {
			has_province_flag = msg_pipiltin_province
		}
		clr_province_flag = msg_pipiltin_province
		change_variable = {
			which = msg_pipiltin_provinces
			value = -1
		}
	}
	else_if = {
		limit = {
			has_province_flag = msg_apogonoi_province
		}
		clr_province_flag = msg_apogonoi_province
		change_variable = {
			which = msg_apogonoi_provinces
			value = -1
		}
	}
}

msg_ignore_reform_corruption = {
	custom_tooltip = msg_ignore_reform_corr_tt
	hidden_effect = {
		add_corruption = -10
	}
}

nhs_add_reform = {
	if = {
		limit = {
			has_dlc = "Dharma"
		}
		#[[REM]
		#	remove_government_reform = $REM$
		#]
		add_government_reform = $REF$
	}
}

nhs_add_gov_reform = {
	if = {
		limit = {
			has_dlc = "Dharma"
		}
		#[[REM]
		#	remove_government_reform = $REM$
		#]
		add_government_reform = $REF$
	}
	else = {
		add_government_reform = nhs_intermediary_government
		add_government_reform = $REF$
	}
}

nhs_set_center_of_trade_1 = {
	custom_tooltip = nhs_add_center_of_trade_1_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 1
		}
		else = {
			owner = {
				add_treasury = 50
			}
		}
	}
}

nhs_set_center_of_trade_2 = {
	custom_tooltip = nhs_add_center_of_trade_2_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 2
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
			add_center_of_trade_level = 1
		}
		else = {
			owner = {
				add_treasury = 100
			}
		}
	}
}

nhs_set_center_of_trade_3 = {
	custom_tooltip = nhs_add_center_of_trade_3_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 3
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 3 }
			}
			add_center_of_trade_level = 2
		}
		else = {
			owner = {
				add_treasury = 500
			}
		}
	}
}

nhs_set_center_in_a_region_to_level_3 = {
	if = {
		limit = {
			any_owned_province = {
				$TYPE$ = $CNRG$
			}
			NOT = {
				any_province = {
					$TYPE$ = $CNRG$
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					province_has_center_of_trade_of_level = 3
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 2
				}
				
			}
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 2
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
		else_if = {
			limit = {
				any_owned_province = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 1
				}
			}
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 1
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
		else = {
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
	}
	else = {
		add_treasury = 1000
	}
}

nhs_set_center_in_a_region = {
	if = {
		limit = {
			any_owned_province = {
				$TYPE$ = $CNRG$
				province_has_center_of_trade_of_level = 1
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
		}
		random_owned_province = {
			limit = {
				$TYPE$ = $CNRG$
				province_has_center_of_trade_of_level = 1
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
			nhs_set_center_of_trade_2 = yes
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else_if = {
		limit = {
			any_province = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_province = {
			limit = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else_if = {
		limit = {
			any_province = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random__province = {
			limit = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else = {
		add_treasury = 75
	}
}

nhs_change_government = {
	if = {
		limit = {
			has_dlc = "Dharma"
			NOT = { government = $GOV$ }
		}
		change_government_via_reform = $GOV$
		#change_government = $GOV$
	}
	[[LEGACY]
		set_legacy_government = $LEGACY$
	]
}

nhs_squips_integration_exist = {
	SHQ = {
		change_primary_culture = shqipproi
		change_religion = ROOT
		add_opinion = {
			who = ROOT
			modifier = nhs_forced_culture_change
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_albanian_majority
			}
			change_culture = shqipproi
			custom_tooltip = nhs_update_albanian_majority_tt
			custom_tooltip = nhs_self_governance_tt
			hidden_effect = {
				remove_province_modifier = nhs2_albanian_majority
				add_permanent_province_modifier = {
					name = "nhs2_albanian_majority2"
					duration = -1
				}
				if = {
					limit = {
						has_province_modifier = nhs2_albanian_majority_no
					}
					remove_province_modifier = nhs2_albanian_majority_no
				}
				add_province_modifier = {
					name = "nhs2_albanian_majority2_no"
					duration = -1
				}
			}
		}
		every_province = {
			limit = {
				culture = shqiperi
				NOT = { has_province_modifier = nhs2_albanian_majority }
			}
			change_culture = shqipproi
		}
	}
	every_province = {
		limit = {
			has_province_modifier = nhs2_albanian_majority
			NOT = { owned_by = SHQ }
		}
		change_culture = shqipproi
		custom_tooltip = nhs_update_albanian_majority
		hidden_effect = {
			remove_province_modifier = nhs2_albanian_majority
			add_permanent_province_modifier = {
				name = "nhs2_albanian_majority2"
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	every_province = {
		limit = {
			culture = shqiperi
			NOT = { has_province_modifier = nhs2_albanian_majority }
			NOT = { owned_by = SHQ }
		}
		change_culture = shqipproi
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_squips_integration_not_exists = {
	every_province = {
		limit = {
			has_province_modifier = nhs2_albanian_majority
		}
		change_culture = shqipproi
		custom_tooltip = nhs_update_albanian_majority
		hidden_effect = {
			remove_province_modifier = nhs2_albanian_majority
			add_permanent_province_modifier = {
				name = "nhs2_albanian_majority2"
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
		else = {
			if = {
				limit = {
					has_province_modifier = nhs2_albanian_majority_no
				}
				remove_province_modifier = nhs2_albanian_majority_no
			}
			add_province_modifier = {
				name = "nhs2_albanian_majority2_no"
				duration = -1
			}
		}
	}
	every_province = {
		limit = {
			culture = shqiperi
			NOT = { has_province_modifier = nhs2_albanian_majority }
		}
		change_culture = shqipproi
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	hidden_effect = {
		SHQ = {
			change_primary_culture = shqipproi
			change_religion = ROOT
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_increase_variable = {
	change_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			check_variable = {
				which = $VARIABLE$
				value = $MAX$
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MAX$
		}
	}
}

nhs_release_elysian_splinter = {
	if = {
		limit = {
			any_owned_province = {
				culture = $CULTURE$
			}
		}
		every_owned_province = {
			limit = {
				culture = $CULTURE$
				NOT = { is_core = $TAG$ }
			}
			add_core = $TAG$
		}
		if = {
			limit = {
				NOT = { exists = $TAG$ }
			}
			release = $TAG$
			$TAG$ = {
				change_religion = ROOT
			}
		}
		else = {
			every_owned_province = {
				limit = {
					culture = $CULTURE$
				}
				cede_province = $TAG$
			}
		}
	}
}

nhs_decrease_variable = {
	subtract_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = $VARIABLE$
					value = $MIN$
				}
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MIN$
		}
	}
}

nhs_building_counter_effect_add = {
	tooltip = {
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	hidden_effect = {
		if = {
			limit = {
				owner = {
					has_country_flag = nhs_start_counting_buildings
				}
				NOT = { has_province_flag = $FLAGG$ }
			}
			set_province_flag = $FLAGG$
			owner = {
				change_variable = {
					which = nhs_HighTierBuildingCount
					value = 1
				}
			}
		}
	}
}
nhs_building_counter_effect_sub = {
	if = {
		limit = {
			has_province_flag = $FLAGG$
			owner = {
				has_country_flag = nhs_start_counting_buildings
			}
		}
		clr_province_flag = $FLAGG$
		owner = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}
nhs_display_rel_center = {
	tooltip = {
		add_permanent_province_modifier = {
			name = religious_center
			duration = -1
		}
	}
}
nhs_assign_provinces_to_marches = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			
		}
		random_owned_province = {
			limit = {
				religion = ROOT
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	create_subject = {
		subject_type = elysian_subject
		subject = $TAGG$
	}
	if = {
		limit = {
			any_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
			}
		}
		every_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
			}
			cede_province = $TAGG$
		}
	}
}
nhs_handle_spartan_integration = {
	if = {
		limit = {
			province_group = mesoamerica_pgroup
			OR = {
				has_province_flag = nhs_mesoamerican_integration2920
				has_province_flag = nhs_mesoamerican_integration3650
				has_province_flag = nhs_mesoamerican_integration4380
			}
			NOT = {
				owner = {
					OR = {
						NOT = { culture_group = ROOT }
						ROOT = { has_province_modifier = nhs2_spartan_independence }
					}
					nhs_is_elysia = yes
					has_country_flag = nhs_expanding_south_complete
				}
			}
		}
		clr_province_flag = nhs_mesoamerican_integration2920
		clr_province_flag = nhs_mesoamerican_integration3650
		clr_province_flag = nhs_mesoamerican_integration4380
		if = {
			limit = {
				has_province_modifier = nhs_mesoamerican_integration_mod
			}
			remove_province_modifier = nhs_mesoamerican_integration_mod
		}
	}
	else_if = {
		limit = {
			province_group = mesoamerica_pgroup
			NOT = { has_province_flag = nhs_mesoamerican_integration2920 }
			NOT = { has_province_flag = nhs_mesoamerican_integration3650 }
			NOT = { has_province_flag = nhs_mesoamerican_integration4380 }
			owner = {
				OR = {
					NOT = { culture_group = ROOT }
					ROOT = { has_province_modifier = nhs2_spartan_independence }
				}
				nhs_is_elysia = yes
				has_country_flag = nhs_expanding_south_complete
			}
		}
		random_list = {
			33 = {
				set_province_flag = nhs_mesoamerican_integration2920
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 2920
				}
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration3650
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 3650
				}
				
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration4380
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 4380
				}
			}
		}
	}
}
nhs_set_unit_type = {
	if = {
		limit = {
			technology_group = western
		}
		change_unit_type = western
	}
	if = {
		limit = {
			technology_group = eastern
		}
		change_unit_type = eastern
	}
	if = {
		limit = {
			technology_group = ottoman
		}
		change_unit_type = ottoman
	}
	if = {
		limit = {
			technology_group = muslim
		}
		change_unit_type = muslim
	}
}
nhs_remove_reforms = {
	if = {
		limit = {
			has_country_modifier = nhs2_native_army_reform
		}
		remove_country_modifier = nhs2_native_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_traditional_army_reform
		}
		remove_country_modifier = nhs2_traditional_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_byz
		}
		remove_country_modifier = nhs2_army_reform_byz
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_euro
		}
		remove_country_modifier = nhs2_army_reform_euro
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform
		}
		remove_country_modifier = nhs2_fire_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_no
		}
		remove_country_modifier = nhs2_army_reform_no
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_pas
		}
		remove_country_modifier = nhs2_army_reform_pas
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_cavalry
		}
		remove_country_modifier = nhs2_army_reform_cavalry
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_xbow
		}
		remove_country_modifier = nhs2_army_reform_xbow
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform2
		}
		remove_country_modifier = nhs2_fire_army_reform2
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_mm
		}
		remove_country_modifier = nhs2_amry_reform_mm
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_nma
		}
		remove_country_modifier = nhs2_amry_reform_nma
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_ga
		}
		remove_country_modifier = nhs2_amry_reform_ga
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform3
		}
		remove_country_modifier = nhs2_fire_army_reform3
	}
	if = {
		limit = {
			has_country_modifier = nhs2_disgruntled_nobles
		}
		remove_country_modifier = nhs2_disgruntled_nobles
	}
}
nhs_set_the_fire_on = {
	if = {
		limit = {
			NOT = { has_country_flag = nhs_updated_fire }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_secrets_greekfire }
			}
			add_country_modifier = {
				name = nhs_secrets_greekfire
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_updated_fire
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_greekfire_update }
			}
			add_country_modifier = {
				name = nhs_greekfire_update
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_fire_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w
			}
			remove_country_modifier = nhs_fire_reform_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w_update
			}
			remove_country_modifier = nhs_fire_reform_w_update
		}
		if = {
			limit = {
				has_country_flag = nhs_second_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_third_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform2
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_fourth_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform3
				duration = -1
			}
		}
	}
}
nhs_set_the_fire_off = {
	if = {
		limit = {
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_secrets_greekfire_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_greekfire_update_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w_update
			duration = 14600
		}
	}
}
nhs_embrace_neighbor_institutions = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { renaissance = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = renaissance
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { renaissance = 100 }
				}
				add_institution_embracement = {
					which = "renaissance"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_rene
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { feudalism = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = feudalism
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { feudalism = 100 }
				}
				add_institution_embracement = {
					which = "feudalism"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_feud
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { new_world_i = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = new_world_i
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { new_world_i = 100 }
				}
				add_institution_embracement = {
					which = "new_world_i"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_neww
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { printing_press = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = printing_press
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { printing_press = 100 }
				}
				add_institution_embracement = {
					which = "printing_press"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_print
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { global_trade = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = global_trade
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { global_trade = 100 }
				}
				add_institution_embracement = {
					which = "global_trade"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_global
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { manufactories = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = manufactories
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { manufactories = 100 }
				}
				add_institution_embracement = {
					which = "manufactories"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_manuf
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { enlightenment = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = enlightenment
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { enlightenment = 100 }
				}
				add_institution_embracement = {
					which = "enlightenment"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_engligh
		}
	}
}
viking_discovery = {
	discover_province = 980
	discover_province = 981
	discover_province = 2573
	discover_province = 997
	discover_province = 2575
	discover_province = 2574
	discover_province = 996
	discover_province = 2576
	discover_province = 2577
	discover_province = 2578
	discover_province = 995
	discover_province = 994
	discover_province = 2583
	discover_province = 2582
	discover_province = 986
	discover_province = 2572
	discover_province = 985
	discover_province = 2571
	discover_province = 2570
	discover_province = 2566
	discover_province = 983
	discover_province = 984
	discover_province = 2569
	discover_province = 2568
	discover_province = 982
	discover_province = 1104
	discover_province = 1105
	discover_province = 1482
	discover_province = 1483
	discover_province = 1493
	discover_province = 1490
	discover_province = 1495
	discover_province = 1494
	discover_province = 1491
	discover_province = 1492

}
thorfinn_bay_discovery = {
	discover_province = 998
	discover_province = 999
	discover_province = 1000
	discover_province = 1003
	discover_province = 1004
	discover_province = 1005
	discover_province = 1006
	discover_province = 2592
}
great_lakes_discovery = {
	discover_province = 989
	discover_province = 961
	discover_province = 960 
	discover_province = 959 
	discover_province = 958 
	discover_province = 2670 
	discover_province = 987 
	discover_province = 954 
	discover_province = 947 
	discover_province = 946 
	discover_province = 944 
	discover_province = 2521 
	discover_province = 2587 
	discover_province = 2586 
	discover_province = 988 
	discover_province = 2671 
	discover_province = 1001 
	discover_province = 945 
	discover_province = 911 
	discover_province = 914 
	discover_province = 915 
	discover_province = 942 
	discover_province = 2522 
	discover_province = 2518 
	discover_province = 2517 
	discover_province = 910 
	discover_province = 1007 
	discover_province = 2015
}

erikson_river_discovery = {
	discover_province = 994 
	discover_province = 2583 
	discover_province = 990 
	discover_province = 993 
	discover_province = 2584 
	discover_province = 2585 
	discover_province = 2559 
	discover_province = 989 
	discover_province = 961 
	erikson_river_area = {
		ROOT = {
			discover_province = PREV
		}
	}
}

disputed_lands_coast_discovery = {
	discover_province = 2570 
	discover_province = 2566 
	discover_province = 2013 
	discover_province = 970 
	discover_province = 971 
	discover_province = 968 
	discover_province = 2561 
	discover_province = 967 
}

elysian_coast_discovery = {
	discover_province = 2010 
	discover_province = 2560 
	discover_province = 965 
	discover_province = 2639 
	discover_province = 962 
	discover_province = 957 
	discover_province = 2554 
	discover_province = 953 
	discover_province = 2550 
	discover_province = 952 
	discover_province = 950 
	discover_province = 2547 
	discover_province = 938 
	discover_province = 2546  
}
erikson_gulf_discovery = {
	discover_province = 980 
	discover_province = 981 
	discover_province = 981 
	discover_province = 982 
	discover_province = 983 
	discover_province = 984 
	discover_province = 985 
	discover_province = 986 
	discover_province = 994 
	discover_province = 995 
	discover_province = 996 
	discover_province = 997 
	discover_province = 2568 
	discover_province = 2569 
	discover_province = 2572 
	discover_province = 2573 
	discover_province = 2574 
	discover_province = 2575 
	discover_province = 2576 
	discover_province = 2577 
	discover_province = 2578 
	discover_province = 2582 
	discover_province = 2583
}

north_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1500 
	discover_province = 1499 
	discover_province = 1492 
}

south_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1502 
	discover_province = 1503 
}

vinlandic_sea_discovery = {
	discover_province = 1483 
	discover_province = 1490 
	discover_province = 1491 
	discover_province = 1493 
	discover_province = 1494 
	discover_province = 1495
}

thorfinn_sea_discovery = {
	discover_province = 1485
	discover_province = 1488 
	discover_province = 1486 
	discover_province = 1487 
	discover_province = 1484
	discover_province = 1489
}

great_lakes_sea_discovery = {
	discover_province = 1659
	discover_province = 1660
	discover_province = 1661
	discover_province = 1662
	discover_province = 1663
}

greenland_discovery = {


}

north_sea_discovery = {


}

nhs_set_herald_preach = {
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 1825
				hidden = yes
			}
		}
	}
}

nhs_set_herald_7300 = {
	hidden_effect = {
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 7300
				hidden = yes
			}
		}
	}
}

nhs_give_province = {
	if = {
		limit = {
			has_province_flag = nhs_p2
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p1
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}
		## END
		country_event = { id = nhs2_p.3 }			
	}
	if = {
		limit = {
			has_province_flag = nhs_p3
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p2
				any_neighbor_province = {
					has_province_flag = nhs_p1
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p4
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p3
				any_neighbor_province = {
					has_province_flag = nhs_p2
					any_neighbor_province = {
						has_province_flag = nhs_p1
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p5
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p4
				any_neighbor_province = {
					has_province_flag = nhs_p3
					any_neighbor_province = {
						has_province_flag = nhs_p2
						any_neighbor_province = {
							has_province_flag = nhs_p1
						}
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
}

nhs_patriarch_switch_off = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_off
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_custody = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_cus
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_back = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_cus
			remove_province_modifier = nhs2_orthodox_patriarchate_off
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_cus
			remove_province_modifier = patriarchate_of_the_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_cus
			remove_province_modifier = patriarchate_of_the_south_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_cus
			remove_province_modifier = patriarchate_of_the_far_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_cus
			remove_province_modifier = patriarchate_of_the_north_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_cus
			remove_province_modifier = ecumenical_patriarch_modifier_off
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for = {
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = nhs2_orthodox_patriarchate
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_orthodox_patriarchate
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_west
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_west
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_west
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_south
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_south
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_south
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_far_west
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_far_west
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_far_west
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_north
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_north
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_north
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = ecumenical_patriarch_modifier
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = ecumenical_patriarch_modifier
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_for
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for_back = {
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_anti_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.9
		}
		custom_tooltip = nhs_high_patriarch_authority_90
		add_dip_power = -75
	}
	if = {
		limit = {
			patriarch_authority = 0.80
			NOT = { patriarch_authority = 0.9 }
		}
		custom_tooltip = nhs_high_patriarch_authority_80
		add_dip_power = -50
	}
	if = {
		limit = {
			patriarch_authority = 0.25
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_25
		add_dip_power = -30
	}
	if = {
		limit = {
			patriarch_authority = 0.10
			NOT = { patriarch_authority = 0.25 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10
		add_dip_power = -15
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.75 }
		}
		custom_tooltip = nhs_high_patriarch_authority_75_below
		add_prestige = 10
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.06 }
		}
		custom_tooltip = nhs_high_patriarch_authority_5_below
		add_dip_power = 50
		add_legitimacy = -5
	}
}

nhs_for_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.95
		}
		custom_tooltip = nhs_high_patriarch_authority_95
		add_adm_power = 25
		add_corruption = 1
	}
	if = {
		limit = {
			patriarch_authority = 0.3
		}
		custom_tooltip = nhs_high_patriarch_authority_30
		add_legitimacy = 5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.95 }
			patriarch_authority = 0.80
		}
		custom_tooltip = nhs_high_patriarch_authority_95_below
		add_adm_power = -15
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.80 }
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_80_below
		add_adm_power = -30
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.2 }
		}
		custom_tooltip = nhs_high_patriarch_authority_20_below
		add_adm_power = -50
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.1 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10_below
		add_adm_power = -75
	}
}

nhs_roll_the_next_battle = {
if = {
	limit = {
		OR = {
			MK1 = { NOT = { num_of_cities = 2 } }
			HLL = { NOT = { num_of_cities = 2 } }
		}
	}
	country_event = { id = nhs_vov_civil_war.9 days = 25 }
}
if = {
	limit = {
		any_province = {
			OR = {
				owned_by = MK1
				owned_by = HLL
			}
			NOT = { region = canada_region }
		}
		NOT = {
			OR = {
				MK1 = { NOT = { num_of_cities = 2 } }
				HLL = { NOT = { num_of_cities = 2 } }
			}
		}
	}
	if = {
		limit = {
			OR = {
				AND = {
					OR = {
						any_province = {
							owned_by = MK1
							any_neighbor_province = {
								owned_by = HLL
								is_capital = yes
							}
						}
						HLL = { NOT = { num_of_cities = 2 } }
					}
					HLL = { NOT = { num_of_cities = 10 } }
					NOT = {
						trading_with_helluland = yes
					}
				}
				AND = {
					OR = {
						any_province = {
							owned_by = HLL
							any_neighbor_province = {
								owned_by = MK1
								is_capital = yes
							}
						}
						MK1 = { NOT = { num_of_cities = 2 } }
					}
					MK1 = { NOT = { num_of_cities = 10 } }
					NOT = {
						trading_with_markland = yes
					}
				}
			}
		}
		random_list = {
			70 = {
				country_event = { id = nhs_vov_civil_war.10 days = 50 }
			}
			30 = {
				country_event = { id = nhs_vov_civil_war.9 days = 50 }
			}
		}
	}
	if = {
		limit = {
			NOT = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = { 
							trading_with_markland = yes
						}
					}
				}
			}
		}
		random_list = {
			70 = {
				country_event = { id = nhs_vov_civil_war.9 days = 50 }
			}
			30 = {
				country_event = { id = nhs_vov_civil_war.5 days = 50 }
			}
		}
	}
}
###
if = {
	limit = {
		NOT = {
			any_province = {
				OR = {
					owned_by = MK1
					owned_by = HLL
				}
				NOT = { region = canada_region }
			}
		}
		NOT = {
			OR = {
				MK1 = { NOT = { num_of_cities = 2 } }
				HLL = { NOT = { num_of_cities = 2 } }
			}
		}
	}
	if = {
		limit = {
			OR = {
				AND = {
					OR = {
						any_province = {
							owned_by = MK1
							any_neighbor_province = {
								owned_by = HLL
								is_capital = yes
							}
						}
						HLL = { NOT = { num_of_cities = 2 } }
					}
					HLL = { NOT = { num_of_cities = 10 } }
					NOT = {
						trading_with_helluland = yes
					}
				}
				AND = {
					OR = {
						any_province = {
							owned_by = HLL
							any_neighbor_province = {
								owned_by = MK1
								is_capital = yes
							}
						}
						MK1 = { NOT = { num_of_cities = 2 } }
					}
					MK1 = { NOT = { num_of_cities = 10 } }
					NOT = { 
						trading_with_markland = yes
					}
				}
			}	
		}
		random_list = {
			70 = {
				country_event = { id = nhs_vov_civil_war.9 days = 50 }
			}
			30 = {
				country_event = { id = nhs_vov_civil_war.5 days = 50 }
			}
		}
	}
	if = {
		limit = {
			NOT = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = { 
							trading_with_markland = yes
						}
					}
				}
			}
		}
		country_event = { id = nhs_vov_civil_war.5 days = 50 }
	}
}
}

nhs_move_por_settlements = {
	while = {
		limit = {
			any_province = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
		}
		random_province = {
			limit = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
			add_colonysize = -1000
			cede_province = ---
		}
		if = {
			limit = {
				any_province = {
					is_empty = yes
					region = brazil_region
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					region = brazil_region
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
	}
}

nhs_break_por_deal = {
clr_country_flag = nhs_has_por_enclave
clr_country_flag = nhs_has_large_por_enclave
clr_country_flag = nhs_has_small_por_enclave
clr_global_flag = nhs_treaty_of_lantanopolis
set_global_flag = nhs_broke_deals_with_por
if = {
	limit = {
		has_country_modifier = nhs2_ely_por_trade
	}
	remove_country_modifier = nhs2_ely_por_trade
}
add_country_modifier = {
	name = nhs2_elysian_isolationism
	duration = -1
}
add_opinion = {
	who = POR
	modifier = nhs_broke_the_deals
}
remove_opinion = {
	who = POR
	modifier = nhs_por_trade_deal
}
POR = {
	if = {
		limit = {
			has_country_modifier = nhs2_treaty_of_lantanopolis_por
		}
		remove_country_modifier = nhs2_treaty_of_lantanopolis_por
	}
	if = {
		limit = {
			has_country_modifier = nhs2_por_ely_trade
		}
		remove_country_modifier = nhs2_por_ely_trade
	}
	
	add_trust = { who = ROOT value = -40 mutual = yes }
	add_opinion = {
		who = ROOT
		modifier = nhs_broke_the_deals
	}
	remove_opinion = {
		who = ROOT
		modifier = nhs2_por_ely_trade
	}
	remove_opinion = {
		who = ROOT
		modifier = nhs_unchecked_expansion
	}
}
if = {
	limit = {
		any_province = {
			has_province_modifier = nhs2_small_por_enclave
		}
	}
	every_province = {
		limit = {
			has_province_modifier = nhs2_small_por_enclave
		}
		remove_province_modifier = nhs2_small_por_enclave
	}
}
if = {
	limit = {
		any_province = {
			has_province_modifier = nhs2_por_enclave
		}
	}
	every_province = {
		limit = {
			has_province_modifier = nhs2_por_enclave
		}
		remove_province_modifier = nhs2_por_enclave
	}
}
if = {
	limit = {
		any_province = {
			has_province_modifier = nhs2_large_por_enclave
		}
	}
	every_province = {
		limit = {
			has_province_modifier = nhs2_large_por_enclave
		}
		remove_province_modifier = nhs2_large_por_enclave
	}
}
}

nhs_add_proper_enclave = {
owner = { clr_country_flag = nhs_enclave_pending }
if = {
	limit = {
		owner = { has_country_flag = nhs_has_small_por_enclave }
	}
	add_province_modifier = {
		name = nhs2_small_por_enclave
		duration = -1
	}
}
if = {
	limit = {
		owner = { has_country_flag = nhs_has_por_enclave }
	}
	add_province_modifier = {
		name = nhs2_por_enclave
		duration = -1
	}
}
if = {
	limit = {
		owner = { has_country_flag = nhs_has_large_por_enclave }
	}
	add_province_modifier = {
		name = nhs2_large_por_enclave
		duration = -1
	}
}
if = {
	limit = {
		owner = { has_country_flag = nhs_has_eu_enclave }
	}
	add_province_modifier = {
		name = nhs2_european_enclave
		duration = -1
	}
}
}

nhs_move_t_post = {
	if = {
		limit = {
			has_province_modifier = nhs2_european_enclave
		}
		remove_province_modifier = nhs2_european_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_small_por_enclave
		}
		remove_province_modifier = nhs2_small_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_por_enclave
		}
		remove_province_modifier = nhs2_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_large_por_enclave
		}
		remove_province_modifier = nhs2_large_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
						}
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = northeast_america_region
							region = southeast_america_region
							AND = {
								region = canada_region
								NOT = { 
									any_neighbor_province = {
										region = great_lakes_lakes_region
									}
								}
							}
						}
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
}

nhs_heir_age_mm_10_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
	}
}

nhs_heir_age_mm_10 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		5nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

nhs_heir_age_mm_20_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	clr_country_flag = nhs_heir_age_choice_$HT$_11
	clr_country_flag = nhs_heir_age_choice_$HT$_12
	clr_country_flag = nhs_heir_age_choice_$HT$_13
	clr_country_flag = nhs_heir_age_choice_$HT$_14
	clr_country_flag = nhs_heir_age_choice_$HT$_15
	clr_country_flag = nhs_heir_age_choice_$HT$_16
	clr_country_flag = nhs_heir_age_choice_$HT$_17
	clr_country_flag = nhs_heir_age_choice_$HT$_18
	clr_country_flag = nhs_heir_age_choice_$HT$_19
	clr_country_flag = nhs_heir_age_choice_$HT$_20
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_11
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_12
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_13
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_14
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_15
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_16
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_17
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_18
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_19
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_20
		}
	}
}

nhs_heir_age_mm_20 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		5nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_11 = {
			#add_treasury = $AGE2$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_12 = {
			#add_treasury = $AGE2$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_13 = {
			#add_treasury = $AGE2$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_14 = {
			#add_treasury = $AGE2$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_15 = {
			#add_treasury = $AGE2$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_16 = {
			#add_treasury = $AGE2$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_17 = {
			#add_treasury = $AGE2$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_18 = {
			#add_treasury = $AGE2$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_19 = {
			#add_treasury = $AGE2$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_20 = {
			#add_treasury = $AGE2$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

#nhs_heir_age_mm_20 = {
#	random_list = {
#		5 = {
#			#add_treasury = $AGE1$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$0
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$1
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$2
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$3
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$4
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$5
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$6
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$7
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$8
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$9
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$0
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$1
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$2
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$3
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$4
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$5
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$6
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$7
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$8
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$9
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}
#nhs_heir_age_mm_10 = {
#	random_list = {
#		5 = {
#			add_treasury = $AGE1$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE2$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE3$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE3$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE4$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE4$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE5$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE5$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE6$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE6$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE7$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE7$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE8$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE8$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE9$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE9$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE10$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE10$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}

nhs_restore_ruler = {
	ELF = {
		#limit = {
			#ai = yes
			#is_subject = no
			#NOT = {
			##	num_of_unions = 1
			#}
			#NOT = { tag = PAP }
			
		#}
		#exile_ruler_as = nhs_temp_ruler
		if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				has_global_flag = $RULER_FLAG$
			}
			set_ruler = $RULER_EXILE$
			set_heir = $HEIR_EXILE$
			#log = "RULER AND HEIR"
			if = {
				limit = {
					ruler_age = 70
				}
				#log = "RULER TOO OLD"
				if = {
					limit = {
						heir_age = 80
					}
					#log = "HEIR TOO OLD"
					ROOT = {
						define_ruler = {
							dynasty = PREV
							claim = 50
							#age = 20
							min_age = 30
							max_age = 40
						}
						if = {
							limit = {
								ruler_age = 60
								has_heir = no
							}
							kill_ruler = yes
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					#log = "Ruler 1: [ELF.Monarch.GetName]"
					#log = "Heir 1: [ELF.Heir.GetName]"
					#exile_ruler_as = nhs_temp_exile
					#log = "Ruler 2: [ELF.Monarch.GetName]"
					#exile_ruler_as = $RULER_EXILE$
					exile_heir_as = $HEIR_EXILE$
					#log = "Ruler 3: [ELF.Monarch.GetName]"
					#log = "Heir 3: [ELF.Heir.GetName]"
					ROOT = {
						define_ruler = {
							name = "(Interregnum)"
							adm = 3
							max_random_adm = 3
							dip = 3
							max_random_dip = 3
							mil = 1
							max_random_mil = 1
							fixed = yes
							regency = yes
						}
						set_heir = $HEIR_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
						if = {
							limit = {
								heir_age = 60
							}
							kill_ruler = yes
							if = {
								limit = {
									has_heir = no
								}
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						heir_age = 70
					}
					#log = "HEIR TOO OLD"
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_ruler = $RULER_EXILE$
						if = {
							limit = {
								ruler_age = 50
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					exile_heir_as = $HEIR_EXILE$
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_heir = $HEIR_EXILE$
						set_ruler = $RULER_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
					}
				}
			}
		}
		else_if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				NOT = { has_global_flag = $RULER_FLAG$ }
			}
			#log = "HEIR"
			set_heir = $HEIR_EXILE$
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			#kill_ruler = yes
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			if = {
				limit = {
					heir_age = 80
				}
				#log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_heir_as = $HEIR_EXILE$
				ROOT = {
					define_ruler = {
						name = "(Interregnum)"
						adm = 3
						max_random_adm = 3
						dip = 3
						max_random_dip = 3
						mil = 1
						max_random_mil = 1
						fixed = yes
						regency = yes
					}
					set_heir = $HEIR_EXILE$
					add_legitimacy = 100
					add_legitimacy = -20
					if = {
						limit = {
							heir_age = 60
						}
						kill_ruler = yes
						if = {
							limit = {
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_global_flag = $HEIR_FLAG$ }
				has_global_flag = $RULER_FLAG$
			}
			#log = "RULER"
			set_ruler = $RULER_EXILE$
			if = {
				limit = {
					ruler_age = 80
				}
				log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_ruler_as = $RULER_EXILE$
				ROOT = {
					set_ruler = $RULER_EXILE$
					if = {
						limit = {
							ruler_age = 50
							has_heir = no
						}
						define_heir = {
							dynasty = PREV
							claim = 50
							age = 15
						}
					}
				}
			}
		}
		else = {
			ROOT = {
				define_ruler = {
					dynasty = "historic_dynasty"
					claim = 40
					age = 21
				}
			}
		}
		clr_global_flag = $HEIR_FLAG$
		clr_global_flag = $RULER_FLAG$
	}
}